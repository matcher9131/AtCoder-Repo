# [ABC382](https://atcoder.jp/contests/abc382) Review
- バーチャル参加
- 無駄な遠回りが多かった

## C - Kaiten Sushi
- AC
- あらかじめ人を美食度の小さい順に並び替えておくと、美味しさの条件をクリアする人は寿司ごとに二分探索で求まるので、あとはその中で番号が最小になる人を探すのみ
  - しかし二分探索→最小値検索を愚直にやると $O(NM \log N)$ で`TLE`不可避
  - 美味しさの条件をクリアする人はどの寿司においても左端から連続するので、人ごとに「自分を含めて左側の中での番号の最小値」をあらかじめ求めておけば、最小値検索は $O(1)$ にできる
- （公式解説）これ計算量1次のオーダーまで減らせるのか…
  - 必ずしも存在するとは限らない美味しさに対してそれを食べるべき人の番号を割り当てる…こういうの弱いんだよなぁ

## D - Keep Distance
- AC(1WA)
- ディスタンスが最小になる数列 $(1, 11, 21, \dots, 10N - 9)$ を基準に考えると、末項 $A_N$ は $10N - 9 \leq A_N \leq M$
  - すなわち $M - (10N - 9)$ 以下の猶予があり、この猶予をどの項に割り振るかを考えたい
  - 具体的には、すべての項が非負整数で総和が $M - (10N - 9)$ 以下になる $N$ 項からなる数列 $B_i$ を考えると、 $A_1 = 1 + B_1, A_i = A_{i-1} + 10 + B_i (i \geq 2)$ は必ず条件を満たす
  - 総和を $K$ に固定して考えると
    - 高校の場合の数でよく出てくる $K$ 個のボールと $N-1$ 個の仕切りを使うパターンに帰着できる
    - しかしその全パターンを網羅する術に手間取る
      - 結局ビット列で`1`をボールに、`0`を仕切りに見立てて全探索（勿論`1`の個数が $K$ にならないものはスキップ）することに
      - 制約より最大でも9個のボールと11個の仕切りなので総和 $K$ の全パターンを考えても $2^{22}$ は超えないはず…
- なお総パターン数を出力し忘れて`WA`を食らう
  - 問題文はよく読め！
- （公式解説）そりゃ $A_i$ ごとに範囲が決まるんだから愚直に前から探索しても間に合うよなぁ…なぜこんな回りくどい解き方をしてしまったのか

## F - Falling Bars
- AC（終了後に提出）
- Dで変なことをしていなければ間に合っていた…
- $t = 10^{100}$ よりすべてのバーは可能な限り下方向へ動いているはずなので、初期状態で下の行にあるバーから順番にグリッドの下端から上に積み上げていけば最終状態になる
  - 一度置いたバーはそれ以上動くことがないのもポイント
- 列 $j$ において最も上にあるバーの行番号を $A_j$ （バーがないときは $A_j = H + 1$ ）とする。ここに最左列の列番号 $c$ で長さ $l$ のバーを置くと、その新しい行番号 $r'$ は $ r' = \min_{c \leq j < c+l} \{ A_j \} - 1$ になり、また $c \leq j < c+l$ の範囲において $A_j \gets r'$ と更新される
  - すなわち区間最小値取得と一定値による区間更新ができればいいので、あとはLazy segment treeに任せるのみ