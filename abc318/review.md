# ABC317 Review
- Rated参加
- 明らかにスランプ
  - Dをギリギリで提出したがEまで解くべき難易度だった
- 次回同じぐらいのやらかしだと緑色に戻ってしまう
  - 気を引き締めなおすべし

## A - Full Moon
- AC
- $O(1)$ の解法も考えられるところだが時間を使いたくないので $O(N)$ の解法で

## B - Overlapping sheets
- AC
- boolean値 $T_{i,j}$ を $[i, i+1] \times [j, j+1]$ にシートが張られているかどうかを表すものとして、$T_{i,j} \gt 0$ となる $(i, j)$ の組の数を数える方針だが
  - 間違って $T_{B_i, D_i}$ まで`true`にしてしまったのは内緒

## C - Blue Spring
- AC
- $F_i$ を降順に並び替えた場合
  - $i$ 日目に1日周遊パスを使わずに、$j (\gt i)$ 日目に1日周遊パスを使うのは $F_i \gt F_j$ より明らかに損
  - また、1日周遊パスを使わない日が存在するのに最終的に手元に1日周遊パスが残ってしまうのも明らかに損
  - すなわち1日周遊パスはあるなら使え、が基本となる
- よって $D$ 日ごとにこの先 $D$ 日間の運賃の合計を計算して1日周遊パスとどちらが得かを判断すればよい
- 計算量は $O(N)$

## D - General Weighted Max Matching
- AC
- 無駄にグラフで全探索をしたがbit DPで良かったという
  - 勿論全探索でも良いのだが、やたらと複雑にしてしまって時間を食ったのが良くない
  - しかも途中でbit DPも考えていたので余計に悪い
    - DP更新のコストが重すぎると勘違いして採用しなかったが、こっちのほうがよっぽど計算量多いわ！
- 自分の解法：$O(N^4)$
    1. 与えられたグラフ（$G$ とする）の各辺 $E_{i,j}$ に対し、それらを頂点 $V'_{(i,j)}$ とする新たな有向グラフ $G'$ を考える
    1. 全ての $(i, j)$ に対し、$i', j'$ を $i$ とも $j$ とも異なる整数かつ $1 \leq i \lt i' \lt j' \leq N$ を満たす整数として、$V'_{(i,j)}$ から $V'_{(i', j')}$ へ向かう重み $D_{i', j'}$ の辺を張る
    1. $V'_{(1, j)} (2 \leq j \leq N)$ を起点として以下のようにDFSを行う
        1. 集合 $A = \emptyset$ を用意する
        1. $l = 0$ とする
        1. 現在の頂点を $V'_{(i,j)}$ とするとき、
            1. $A$ に要素 $i, j$ を加える
            1. $l$ に $D_{i,j}$ を加える
            1. $V'_{(i,j)}$ に隣接する頂点 $V'_{(i',j')}$ を次の頂点としてDFSを再帰呼び出しする
                - ただし、$i' \in A$ または $j' \in A$ となるような頂点 $V'_{(i',j')}$ は選ばないものとする
        1. 遷移できる頂点がなくなったら $l$ を評価し、最大値を更新する
    1. $V'_{(2, j)} (3 \leq j \leq N)$ を起点として上記のDFSを行う
- 実際には $A$ はビット列で管理することにより計算速度を上げている
- はじめ $G'$ の辺を張るときに $i \lt i'$ や $i' \ lt j'$ といった条件を忘れ、見事に全然終わらない探索が完成した
  - 時間が迫る中なんとか気づけたのは不幸中の幸いか

## E - Sandwiches
- TLEからの時間切れ
- $A_i$ と $i$ の`pair`をソートしてから云々…とやろうとしたら案の定 $O(N^2)$ で無事`TLE`
- （公式解説）3つの組み合わせは真ん中に注目…どこかで見たやつだった（白目）
  - ただしそれに気づいたところで他に考慮すべき要素もあるため、時間が間に合ったかどうかは随分と怪しい