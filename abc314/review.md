# ABC314 Review
- Rated参加
- Dまでは`WA`もなくいけたが…
  - Dまでが4500人以上が`AC`なのに対してEの`AC`が800人を切る事態に
    - お願いします、水色問題を出してください（迫真）
- 今回も水色はお預けでまたしてもAGCがお預けに
  - お願いします、ARCも開催してください（迫真）

## A - 3.14
- `AC`
- 文字列として入力を受けて先頭から $N + 2$ 文字を出力するだけ。以上。

## B - Roulette
- `AC`
- 最も少ない人のみを出力という部分を例によって読み落としてグダる
- $N \leq 100$ なのをいいことに、まずは賭けた目の個数の最小値を求めてから、その最小値と等しい個数を賭けた人を探すという二段構造

## C - Rotate Colored Subsequence
- `AC`
- 色ごとに文字の位置と文字そのものを配列として持てばOK
- 自分の解法：$O(N)$ …のはず
    1. 色 $j$ ごとに以下の2つの配列を作る
        - $C_i = j$ となる全ての $i$ を昇順にならべた $P_j = (P_{j,1}, P_{j,2}, \ \dots)$
        - $S_{P_{j, 1}}, S_{P_{j, 2}}, \ \dots$ を順に並べた $T_j = (T_{j,1}, T_{j,2}, \ \dots)$
    1. $T$ の末尾の要素を先頭へ移動させる
    1. 色 $j$ ごとに以下の操作を行う
        - $S_{P_{j, i}}$ を $T_{j,i}$ に置き換える

## D - LOWER
- `AC`
- $NQ \leq 2.5 \times 10^{11}$ なので、$t = 2, 3$ のときいちいちすべての文字を大文字/小文字にしていては間に合わないが
  - 最後のもののみ有効なのでそこをチェックすれば問題なし
- ただし、最後の大文字化/小文字化の後にある $t = 1$ の操作はそのまま生きてくるのでそこだけ注意する必要がある
- 自分の解法：$O(N)$
    1. $N$ 項からなる数列 $A$ を用意して、全項を`-1`で初期化する
    1. $L = -1, U = -1$ とする
    1. 以下のようにクエリを処理する
        - $t_i = 1$ のとき
            1. $S_{x_i}$ を $c_i$ に置き換える
            1. $A_{x_i} \gets i$ とする
        - $t_i = 2$ のとき
            - $L \gets i$ とする
        - $t_i = 3$ のとき
            - $U \gets i$ とする
    1. 以下のように大文字化/小文字化する
        - $L = -1$ かつ $U = -1$ のとき
            - 大文字化も小文字化も行わない
        - $L \gt U$ のとき
            - すべての $i$ に対し、$A_i \lt L$ ならば $S_i$ を小文字化する
        - $L \lt U$ のとき
            - すべての $i$ に対し、$A_i \lt U$ ならば $S_i$ を大文字化する
    1. $S$ を出力する        
