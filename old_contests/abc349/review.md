# [ABC349](https://atcoder.jp/contests/abc349/standings) Review
- バーチャル参加
- Dを複雑に考えすぎて時間を浪費
  - 結果としてEが間に合わず
- てかFお前黄色なんかい！
  - パット見だと水色～青色に見えるの怖い

## D - Divide Interval
- AC（44分）
- 貪欲に左から取ればいいのに、最長区間を探してそこから左と右を分けて取る謎実装をしてしまった

## E - Weighted Tic-Tac-Toe
- 時間切れ
- いわゆるネガマックス法で実装
  - いつもの参考ページ: [AtCoder ABC 201 D - Game in Momotetsu World (1Q, 水色, 400 点) - けんちょんの競プロ精進記録](https://drken1215.hatenablog.com/entry/2023/07/21/235300)
- リーチ条件を何度か間違い結局脳筋実装に
- さらに全マスが埋まる終局条件のときに返す値が間違っていた
  - 点数はすでに加算されているので普通に0を返せばよい

## F - Subsequence LCM
- 時間切れ
- $M$ の約数でない $A_i$ は無視するとして
- $i$ 番目まで見てLCMが $j$ になるような $\mathrm{dp}_{i,j}$ を考えるも`TLE`
  - $j$ に関しては`unordered_map`などを使うとして、あり得る最大パターン数を考える
    - 勿論 $M$ の約数の個数が多いときほど $j$ の状態数が多くなる
    - [高度合成数の一覧 | アルゴ式](https://algo-method.com/descriptions/92)を見れば $10^{16}$ 以下の正整数における正の約数の個数としてあり得る最大値は $41472$
    - よって $N \leq 2 \times 10^5$ と併せて $10^{10}$ ほどのオーダーになるので確かに間に合わない
- というわけで $M = p_1^{e_1}p_2^{e_2} \dots p_K^{e_K}$ と素因数分解して考える必要がある
  - 素因数分解の計算量は $O(\sqrt{M})$ だが $\sqrt{M} \leq 10^8$ のオーダーで大丈夫か？と思ったが、やってることが単純故に特に問題ないようだ
  - なお $M$ の制約により $K \leq 13$ となるので $O(2^K)$ どころか $O(2^{2K})$ でも安心
- 各 $k = 1, 2, \dots, K$ に対して、選んだ部分列の少なくとも1つの項が $p_k^{e^k}$ の倍数ならば題意を満たす
  - よって $A_i$ が $p_k^{e^k}$ の倍数かどうかをビット列にしたものを $B_i$ とし、 $B$ の部分列のbitwise ORが $2^K - 1$ になるかどうかをDPで数えていけばよい

