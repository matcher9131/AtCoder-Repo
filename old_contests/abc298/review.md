# [ABC298](https://atcoder.jp/contests/abc298) Review
- バーチャル参加
- 520位付近相当だがE,Fを一度解いたことがあったためむしろ遅いくらいか
  - ところで解いたはずのEが手元のどこにもないのは何故……

## D - Writing a Numeral
- AC（6分）
  - B, Cのほうが時間かかってて草
- 以下剰余は適宜取るものとする
- $S$ の他に $\mathrm{ans} = 1$ および変数 $l = 1$ を用意して計算量削減を行う
  - 文字列の先頭の削除は $O(N)$ なのでやっていられないが、追加が末尾で削除が先頭なので $S[l:N]$ を $S$ の代わりとすることができる
- あとは以下のようにクエリを捌くのみ
  - タイプ1
    1. $S$ の末尾に $x$ を追加する
    1. $\mathrm{ans} \gets 10 \cdot \mathrm{ans} + x$
  - タイプ2
    1. $\mathrm{ans} \gets \mathrm{ans} - S_l \cdot 10^{|S| - l}$
    1. $l \gets l+1$

## E - Unfair Sugoroku
- AC（27分）
- $\mathrm{dp}_{0,i,j}$ を高橋君がサイコロを $i$ 回振ったときに地点 $j$ にいる確率とすると、
  - 初期値: $\mathrm{dp}_{0,0,A} = 1$
  - 遷移: $1 \leq x \leq P$ のそれぞれについて $\mathrm{dp}_{0,i+1,\min \{ N, j+x \}} = \frac{1}{P} \mathrm{dp}_{0,i,j}$
- 青木君に関しても同様に $\mathrm{dp}_{1,i,j}$ を計算する
- 高橋君が $i$ 回目にはじめてゴールする確率は $\mathrm{dp}_{0,i,N} - \mathrm{dp}_{0,i-1,N}$ であり、青木君が $i-1$ 回目までにまだゴールしていない確率は $1 - \mathrm{dp}_{0,i-1,N}$ であることを踏まえて
  - 解は $\sum_i  (1 - \mathrm{dp}_{0,i-1,N})(\mathrm{dp}_{0,i,N} - \mathrm{dp}_{0,i-1,N})$

## F - Rook Score
- AC（26分）
- 座標圧縮からの
  - 各行の和を $S_i$ 、各列の和を $T_j$ として $S_i + T_j - A_{i,j}$ を探索したい
- $T_j$ を降順にソートしておけば以下が言える
  - マス $(i,j)$ がその行の最小値のとき、 $S_i + T_j - A_{i,j}$ より $S_i + T_{j+1} - A_{i,j+1}$ が大きくなることはない
- あとは $i$ を動かして全探索するのみ
  - ↑の打ち切り条件が働くため、 $i,j$ の2重ループにしても計算量は $O(N)$ でいける
- なお 「マス $(i,j)$ がその行の最小値のとき」ではなく「マス $(i,j)$ が空白のとき」まで条件を緩めても何も問題なかった
  - 各行の最小値を求めるのに無駄に労力を使ったので賢くスキップしたかった……
