# [ABC379](https://atcoder.jp/contests/abc379) Review
- バーチャル参加
- ま た E の 壁 か

## C - Sowing Stones
- AC(1WA)
- $X_i$ が増加列だと思っていた＆端の処理を忘れたというやらかしで1敗
  - 制約条件はよく読みましょう
- 元から石のあるマスは1個残して右端から順に埋めて行けば必ず回数は最小になると思っていたが
  - 石を中途半端に残すせいで計算量が元から石のあるマスあたり最悪 $O(M)$ 、すなわち全体で $O(M^2)$ になりマズい
- そもそもゴール条件を満たせるならばどう動かしても回数は同じになることに気づくのにかなり時間を要してしまった
  - すなわち、とにかく右端から埋めればOKであり、このときに元から石のあるマスに2個以上石が残ってしまった時点でゴール条件を満たせない
  - これなら石を中途半端に残さないのでどこまで埋まっているかだけ管理すれば良く、移動回数も連続する整数の和なので元から石のあるマスあたり $O(1)$ 、すなわち全体で $O(M)$ で済む
    - 実際には $X_i$ のソートが必要なので全体計算量は $O(M \log M)$

## D - Home Garden
- AC
- もしクエリ3で条件を満たす植物を収穫しなかったとすると、その条件を満たす植物は以降のクエリ3でも条件を満たし続ける
  - よってクエリ3では新たに条件を満たした植物の数だけ数えればOK
- 現在時刻を $t$ 、$i$ 番目の植物を植えた時刻を $t_i$ とすると、その植物が収穫条件を満たすのは $t - t_i \geq H$ すなわち $t_i \leq t - H$ のとき
  - クエリの性質上 $i < j$ なら $t_i \leq t_j$ が約束されるので、単なる配列にクエリ1で植物を植えるときの時刻を追加していけば、クエリ3は`upper_bound`で片がつく
    - すなわち全体計算量は $O(Q \log \sum T)$

## E - Sum of All Substrings
- 時間切れ
- 公式解説と同じ考察で足し算の回数を $N$ 回まで減らして筆算を想定するも
  - 列を一度に処理しようとして撃沈
  - **筆算1行あたり下から1桁が確定できる** という当たり前の事実を見過ごす
- ポイント:
  - 下から順に1桁ずつ確定させる
  - 確定しなかった桁はすべて次の行への繰り上がり扱いにする
  - $N$ 桁を $N$ 回足すと最大 $2N$ 桁になるためループ範囲は $[0, 2N)$
    - ただし足すものは当然 $N$ 行しかないので足し算は前半 $N$ 回のみで以降は繰り上がりの処理のみになる
    - なお後半で繰り上がりが $0$ になったときにループを抜けないと先頭に余計な`0`がつく
