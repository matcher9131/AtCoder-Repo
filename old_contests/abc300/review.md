# [ABC300](https://atcoder.jp/contests/abc300) Review
- バーチャル参加
- Eまでを40分弱で終わらせ440位相当
  - Fがスムーズに解けていれば300位付近相当も狙えただけにもったいない


## D - AABCC
- AC（15分）
- $b$ に注目して以下の方針で数え上げた
    1. 素数 $b$ を1つ決める
    1. $b$ より小さい素数 $a$ を小さい順に1つ取り、それぞれに対して以下を行う
        1. $c_{\max} = \left\lfloor \frac{N}{a^2b} \right\rfloor$ とする
        1. $c_{\max} < b$ ならこれ以上の $a$ に対して $b < c$ が成り立たないことが確定するので、次の $b$ へ
        1. $b$ より大きく $c_{\max}$ 以下の素数の個数を求めて解に加える
- この方法で計算量が大丈夫かを考える
  - 前計算により $x$ 以下の素数の個数を $O(\log x)$ で求められるようにしておけば、↑の計算量は $O((\pi(b_{\max}))^2 \log c_{\max})$
  - $b$ が最大となるのは $a$ が最小値すなわち $2$ かつ $b$ と $c$ が限りなく近いときなので、ざっくり $\sqrt[3]{N / 4} \approx 6300$ あたりが最大になるとわかる
    - 素数定理（ $\pi(x) \sim \frac{x}{\log x}$ ）より $\pi(b_{\max}) \approx 720$ なので問題ないとわかる
- $c$ が最大になるのは $a=2, b=3$ のときなので $c_{\max} = \sqrt{N/12} \approx 2.9 \times 10^5$ 
  - よって多めに $3 \times 10^5$ 以下の全素数を用意できれば二分探索で上述の縛り（ $x$ 以下の素数の個数を $O(\log x)$ で求める）をクリアできる
    - 素数列挙はエラトステネスの篩で $O(x \log \log x)$ なのでこれも十分
- これが緑色って2年前でも割と魔境だなぁと

## E - Dice Product 3
- AC（8分）
- 実は一度解いたことがあったようだが問題そのものは綺麗さっぱり忘れていたのと、解いていなかったとしてもやることはすぐに見える系なのでそこまで影響はないはず
  - サイコロ $N$ 個の積に関する確率は実際東大の過去問とかであったはずなので…（塾講師並）
- 出目が $1$ のとき積は変化しないので、「 $1$ が出たら振り直す」として $1$ 以外の目が $\frac{1}{5}$ ずつの確率で出ると考えてよい
- $N = 2^x3^y5^z$ と素因数分解する
  - ↑の形に素因数分解できない $N$ に対しては問答無用で解は $0$
- $\mathrm{dp}_{i,j,k}$ をサイコロを何回か振って $x = 2^i3^j5^k$ となる確率とすれば
  - 初期値は $\mathrm{dp}_{0,0,0} = 1$ でその他は $0$
  - $1$ 以外の出目に対して配るDPで適切に遷移させる
  - 解は $\mathrm{dp}_{x,y,z}$
- 計算量はサイコロの出目の種類数を $K$ として $O(K(\log N)^3)$

## F - More Holidays
- 時間切れ
- 公式解説でいうところの $M_i$ やその後ろから版の $M'_i$ を用意して $K \bmod C_N$ を $S$ 全体を覆えない範囲に割り振る、 $(K \bmod C_N) + C_N$ を $S$ 全体を覆えない範囲に割り振る、などとしたが`WA`連発
- $l$ を固定するだけでこれほどまでに見通しがよくなるとはこのリハクの目を（略）
  - これを思いつけていたら解けていたはず……
