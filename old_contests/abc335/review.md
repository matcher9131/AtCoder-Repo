# [ABC335](https://atcoder.jp/contests/abc335) Review
- バーチャル参加
- Eまで解けて760位相当
- D以前とE以降の難易度差に泣く

## D - Loong and Takahashi
- AC（10分）
- 左上から時計回りに渦を巻くだけ
- これC問題レベルだよなぁ……

## E - Non-Decreasing Colorful Path
- AC（46分＋1TLE）
- $A_u \leq A_v$ のときのみ頂点 $u$ から $v$ へ有向辺を張ることにして、その状態でDijkstraっぽくやってみるが`TLE`
  - `TLE`になる理由は[有向グラフの最短路と最長路問題 - Senの競技プログラミング備忘録](https://sen-comp.hatenablog.com/entry/2020/01/05/194503)に記載がある
    - この方法だと $O(N^2 \log N)$ になってしまうっぽい
      - まぁそんな予感はしてた…
    - 最長距離を求めるアルゴリズムだとBellman–Ford法もあるが、計算量 $O(|V|+|E|)$ は今回の制約だとやはり`TLE`不可避
- ↑のページには`グラフがDAGだと保証されてるのならば、トポロジカルソートすることで、線形にDPをすれば解くことができる`との記載がある
  - 今回の場合 $A_u = A_v$ かつ頂点 $u, v$ に辺が存在することがDAGにできない要因であり、これを解消したい
    - 逆にこの条件が満たされる頂点間はノーコストで移動できることから、これらの頂点を一纏めにしてしまえばいいのではと思いつく
- 具体的にには辺の入力を受け付ける際に一旦グラフの構築は保留しておき、Union-Find木を用いて↑の条件を満たす頂点群に対して1つの頂点を代表にさせて、そこに対して辺を張るようにした
  - あとは頂点 $1$ （を含む頂点群をを代表する頂点）からスタートしてトポロジカルソート順にDPを更新すればOK
    - トポロジカルソートには`atcoder/scc`を用いた
- （公式解説）もっとスマートな方法がありそうだと思ったが、意外にもやっていることが同じだった
  - ってDijkstraも行けるんかい！
    - $A_v$ の小さい順というのは少しチラついていたのだが、「 $A_v$ 最小かつスコア最大の頂点から確定」まで行けたかどうかは怪しい
      - なんとなくでアルゴリズムを使っている弊害がここに……
- テストケース95個は多すぎィ！

## F - Hop Sugoroku
- 時間切れ
- おそらく平方分割なんだろうなぁと思いつつ分割したあとどーすんねんで終了
- （公式解説）「 $j-i$ が $A_i$ の倍数」 $\Leftrightarrow i \equiv j \pmod{A_i} \Leftrightarrow i, j$ を $A_i$ で割った余りが等しい
  - 言われればそうなんだが結構忘れるやーつ
    - 思い出せていたとして $\sqrt{N} \times \sqrt{N}$ の2次元配列 $\mathrm{dp}_2$ の1つのみで使い回せることに気づけるかと言われればかなり怪しいところ
