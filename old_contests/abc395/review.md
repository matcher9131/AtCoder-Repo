# [ABC395](https://atcoder.jp/contests/abc395) Review
- バーチャル参加
- 1時間弱でEまでたどり着いたが今回は易しめだったようだ

# D - Pigeon Swap
- AC
- 操作 $2$ で鳩を入れ替えるのではなく巣を入れ替えるようにして、巣の番号と位置を互いに $O(1)$ で変換できるようにしておけばOK…なのだが
  - その実装に大いに頭を悩ます
    - 正直テストケース頼りだったので場合によってはWAを連発しててもおかしくなかった
    - これをパッと実装できる頭脳が欲しいぜ…

# E - Flip Edge
- AC
- 与えられたグラフを表世界、その辺の向きを反転したグラフを裏世界として、表世界と裏世界を適切に行き来する有向辺を繋げばよさそう
- すなわち以下の通り
  - $2N$ 頂点のグラフを用意し、与えられた辺を加える
  - 表世界で頂点 $a$ から $b$ への有向辺が存在するとき、そのコストを $1$ として、さらに以下の3つの辺を加える
    - 頂点 $b$ から $N+a$ へのコスト $X+1$ の有向辺
    - 頂点 $N+b$ から $N+a$ へのコスト $1$ の有向辺
    - 頂点 $N+a$ から $b$ へのコスト $X+1$ の有向辺
  - Dijkstraで頂点 $1$ からの最短距離を求める
    - ゴール地点は頂点 $N$ または $2N$
- 計算量は $O((2N+4M)\log{2N})$

# F - Smooth Occlusion
- 時間切れ
- 題意を満たす最大の $H$ を $H_M$ としたとき、任意の $0 \leq H < H_M$ に対し常に題意を満たせることから、$H_M$ は二分探索で求まる
- 歯を削れば削るほどお金がかかることから、 $H = H_M$ のときの費用が解になる
- ……ここまではわかったのだが、2つ目の条件をうまく処理できず時間切れ
- （公式解説）区間 $[L, R] = [0, \infty]$ として、各 $i$ ごとに $[L, R] \gets [L - X, R + X] \cap [H - D_i, U_i]$ と更新すればよい