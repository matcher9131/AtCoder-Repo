# [あさかつ9/26](https://kenkoooo.com/atcoder/#/contest/show/596618a1-6211-40d5-bf31-c553a3091330) Review

## 第4問 - President
- AC（24分＋1WA）
- ~~途中でトイレに行ったせいで無駄に回答時間が長い……~~
- その選挙区を取るのに必要な鞍替えさせる人数をナップサックの重さ、その区の議席数をナップサックの価値とするとナップサック問題に落とし込める
- `a = min(a, b)`の左辺の`a`を修正したときに右辺の`a`を修正し忘れて1敗

## 第5問 - Blue Bird
- AC（15分程度）
- 頂点 $1$ に隣接する頂点集合を $S$ とする
- $S$ に属する2頂点 $u, v$ について $E_{1,u} + d(u, v) + E_{1,v}$ を計算できればOK
  - ただし $d(u,v)$ は頂点 $1$ を通らない最短パスの長さ
- $S$ に属する各頂点を始点としてDijkstraを $|S|$ 回行っても計算量 $O(N(N+M) \log N)$ なので間に合う
  - このことに気づくのにかなり時間を要してしまった……

## 第6問 - ∙ (Bullet)
- 時間切れ
- $A_i = B_i = 0$ のとき任意の $(A_j, B_j)$ に対して条件が成り立つことから、このイワシは単独でクーラーボックスに入れるしかない
  - よって別枠で処理
- 与えられた条件を変形すると $\frac{A_i}{B_i} = -\frac{B_j}{A_i}$ となるので $\frac{A_i}{B_i}$ を有理数で保持すればいける
  - $A_i = 0$ のときは $\frac{0}{1}$ 、 $B_i = 0$ のときは $\frac{1}{0}$ としておけばよい
- ↑2つには気付いたもののそこからの数え方で詰まる
  - $p = \frac{A_i}{B_i}$ に対し $\bar{p} = -\frac{B_j}{A_i}$ とおくと、 $\bar{\bar{p}} = p$ となることを利用する
    - ただし、 $\frac{0}{1}, \frac{1}{0}$ に対してはこの2つが $p, \bar{p}$ になるようにする（この場合でも $\bar{\bar{p}} = p$ は成立する）
  - すなわち、 $p, \bar{p}$ はセットで数えてしまえばよい
    - $p$ から何匹か選ぶのと $\bar{p}$ から何匹か選ぶのは排反なので、まとめて $2^{c(p)} + 2^{c(\bar{p})} - 1$ 通りと数えられる
      - ただし $c(p)$ は $p = \frac{A_i}{B_i}$ となる $i$ の個数
      - $-1$ しているのは双方から何も選ばない事象が重複しているため
  - それぞれのセットは独立なので積を取ればOK
