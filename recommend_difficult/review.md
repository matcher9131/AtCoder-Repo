# AtCoder Problems Recommendation (Difficult) Reivew
AtCoder Problems RecommendationのDifficultでおすすめされる問題をひたすら解いてひたすらレビューする

## ABC243 E - Edge Deletion
- 各頂点からDijkstra法を行い、最短経路を復元して使用された辺以外を削除したらいいのではないかと考えたが
  - 同じ距離で2ルート以上ある場合に使わなくてよい辺をうまく検出できず`WA`
- 公式解説を見る
  - 各辺について必要かどうかを1つずつ判断する必要がある
    - ↑の解き方のときに2頂点 $i, j$ の距離 $d_{i,j}$ を記録する必要がなかったため、この発想に至らなかった

## AGC018 B - Sports Festival
- 恐らくは二分探索法だろうなぁと思いつつ
  - 最も多くの人が参加するスポーツの参加人数を $x$ 人以下にできるかどうかを判定する部分をどうしようかと悩む
- 結局 $N \leq 300, M \leq 300$ であるのをいいことに、以下のようにゴリ押しで判定することにする
    1. 全てのスポーツを実施するものとする
    1. 現状で実施するスポーツの数を $m$ とするとき、$\lceil N/m \rceil \gt x$ ならば`false`を返す
    1. 実施される各スポーツについて参加する人数をカウントし、その最大値が $x$ 以下なら`true`を返す
    1. 最も多い人数が参加するスポーツを実施しないものとして、2.に戻る
- 計算量は $O(NM^2 \log N)$？
- そして提出後に二分探索の必要が全くないことに気づく
  - 実施しないスポーツの選択はいつも同じ順番で行われるので、1つずつ実施しないスポーツを選びながら最多参加者の最小値を記録していけばよい

## [ABC202 E - Count Descendants](https://atcoder.jp/contests/abc202/tasks/abc202_e)
- 木において頂点 $v$ が頂点 $u$ の子孫かどうかの判定
  - LCA + ダブリング
    - 参考：[ダブリングによる木の最近共通祖先（LCA：Lowest Common Ancestor）を求めるアルゴリズム | アルゴリズムロジック](https://algo-logic.info/lca/)
    - 前処理 $O(N \log N)$ 、クエリ $O(\log N)$
    - パッと思いついたのはこっち
      - しかし複数の頂点を一括して処理できないため本問だと間に合わない
  - オイラーツアー + タイムスタンプ
    - 頂点 $i$ の行きがけ・帰りがけの時刻をそれぞれ $s_i, t_i$ とおくと、頂点 $v$ が頂点 $u$ の子孫である条件は $s_u < s_v < t_u$
    - 二分探索により複数の頂点を一括して処理できる
- クエリ先読みかと思ったら別にそんなことはなかった
